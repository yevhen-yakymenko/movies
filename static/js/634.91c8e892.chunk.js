"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[634],{315:function(n,e,t){t.d(e,{Z:function(){return c}});var r=t(444),a=t(407),c=(0,r.ZP)("div")(a.$_,a.Dh,a.bK,a.GQ,a.Oq,a.Cg,a.FK)},261:function(n,e,t){t.d(e,{Z:function(){return C}});var r,a,c,u,o,i,s=t(982),f=t(861),p=t(885),l=t(757),d=t.n(l),v=t(791),h=t(689),x=t(565),m=t(168),Z=t(444),g=t(731),b=Z.ZP.li(r||(r=(0,m.Z)(["\n  flex-basis: calc((100% - 64px) / 5);\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  /* background-color: ","; */\n\n  color: ",";\n\n  :hover {\n    color: ",";\n  }\n"])),(function(n){return n.theme.colors.muted}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.accent})),k=(0,Z.ZP)(g.OL)(a||(a=(0,m.Z)(["\n  color: inherit;\n"]))),y=Z.ZP.h4(c||(c=(0,m.Z)(["\n  font-size: ","px;\n  font-family: ",";\n  padding: 6px 0;\n"])),(function(n){return n.theme.fontSizes[4]}),(function(n){return n.theme.fonts.heading})),w=Z.ZP.p(u||(u=(0,m.Z)(["\n  font-size: ","px;\n  font-style: italic;\n  padding: 2px 0;\n"])),(function(n){return n.theme.fontSizes[2]})),P=t(184),j=function(n){var e=n.movie,t=n.genres,r=(0,h.TH)(),a=e.id,c=e.title,u=e.release_date,o=e.poster_path,i=e.genre_ids,s=t.filter((function(n){var e=n.id;return i.includes(e)})).map((function(n){return n.name}));return(0,P.jsx)(b,{children:(0,P.jsxs)(k,{to:"../movies/".concat(a),state:{from:r},children:[(0,P.jsx)("img",{src:(0,x.Pk)(o),alt:c}),(0,P.jsx)(y,{children:c}),(0,P.jsx)(w,{children:s.join(", ")}),(0,P.jsx)(w,{children:u})]})})},_=Z.ZP.ul(o||(o=(0,m.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 auto;\n  gap: 16px;\n"]))),S=function(n){var e=n.movies,t=n.genres,r=n.lastPage,a=n.loadMore;return(0,P.jsxs)(_,{children:[e.map((function(n){return(0,P.jsx)(j,{movie:n,genres:t},n.id)})),(0,P.jsx)("li",{children:e.length>0&&r>0&&(0,P.jsx)("button",{type:"button",onClick:function(){return a()},children:"Load more"})})]})},q=Z.ZP.div(i||(i=(0,m.Z)(["\n  flex-basis: content;\n  background-color: ",";\n  padding: 40px 24px;\n  overflow-y: scroll;\n"])),(function(n){return n.theme.colors.background})),C=function(n){var e=n.movieRef,t=n.children,r=(0,v.useState)([]),a=(0,p.Z)(r,2),c=a[0],u=a[1],o=(0,v.useState)(""),i=(0,p.Z)(o,2),l=i[0],h=i[1],m=(0,v.useState)(1),Z=(0,p.Z)(m,2),g=Z[0],b=Z[1],k=(0,v.useState)(null),y=(0,p.Z)(k,2),w=y[0],j=y[1],_=(0,v.useState)([]),C=(0,p.Z)(_,2),z=C[0],J=C[1];(0,v.useEffect)((function(){var n=function(){var n=(0,f.Z)(d().mark((function n(){var e,t,r,a,c;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,x.XT)(l,g);case 3:return e=n.sent,t=e.results,r=e.total_pages,u((function(n){return[].concat((0,s.Z)(n),(0,s.Z)(t))})),j(r),n.next=10,(0,x.JZ)();case 10:a=n.sent,c=a.genres,J(c),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.log(n.t0);case 18:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(){return n.apply(this,arguments)}}();if(e)return l!==e?(u([]),h(e),void b(1)):void n()}),[e,g,l]);var L=w-g;return(0,P.jsxs)(q,{children:[t,(0,P.jsx)(S,{movies:c,genres:z,lastPage:L,loadMore:function(){b((function(n){return n+1}))}})]})}},634:function(n,e,t){t.r(e),t.d(e,{default:function(){return d}});var r,a=t(885),c=t(731),u=t(315),o=t(261),i=t(791),s=t(168),f=t(444).ZP.form(r||(r=(0,s.Z)(["\n  width: 1280px;\n"]))),p=t(184),l=function(n){var e=n.onSubmit,t=(0,i.useState)(""),r=(0,a.Z)(t,2),c=r[0],u=r[1];return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(f,{onSubmit:function(n){n.preventDefault(),e(c),n.target.reset(),u("")},children:[(0,p.jsx)("input",{onChange:function(n){return u(n.target.value)},name:"search",required:!0}),(0,p.jsx)("button",{type:"submit",children:"Search"})]})})},d=function(){var n=(0,c.lr)(),e=(0,a.Z)(n,2),t=e[0],r=e[1],i=t.get("request");return(0,p.jsx)(u.Z,{as:"main",display:"flex",height:"100vh",minWidth:"1280px",children:(0,p.jsx)(o.Z,{movieRef:i,children:(0,p.jsx)(l,{onSubmit:function(n){r({request:n})}})})})}},565:function(n,e,t){t.d(e,{IQ:function(){return f},JZ:function(){return l},Jh:function(){return p},Pg:function(){return s},Pk:function(){return d},XT:function(){return i}});var r=t(861),a=t(757),c=t.n(a),u=t(44),o="f6621a4453f011cfb432a7f58c4cc70b";u.ZP.defaults.baseURL="https://api.themoviedb.org/3";var i=function(){var n=(0,r.Z)(c().mark((function n(e,t){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=null,n.t0=e,n.next="day"===n.t0||"week"===n.t0?4:"popular"===n.t0||"top_rated"===n.t0||"upcoming"===n.t0?8:12;break;case 4:return n.next=6,(0,u.ZP)({url:"/trending/movie/".concat(e,"?api_key=").concat(o,"&page=").concat(t)});case 6:case 10:case 14:return r=n.sent,n.abrupt("break",16);case 8:return n.next=10,(0,u.ZP)({url:"/movie/".concat(e,"?api_key=").concat(o,"&page=").concat(t)});case 12:return n.next=14,(0,u.ZP)({url:"/search/movie?api_key=".concat(o,"&query=").concat(e,"&page=").concat(t)});case 16:return n.abrupt("return",r.data);case 17:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),s=function(){var n=(0,r.Z)(c().mark((function n(e){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.ZP)({url:"/movie/".concat(e,"?api_key=").concat(o)});case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(c().mark((function n(e){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.ZP)({url:"/movie/".concat(e,"/credits?api_key=").concat(o)});case 2:return t=n.sent,n.abrupt("return",t.data.cast);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(c().mark((function n(e){var t,r,a=arguments;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:1,n.next=3,(0,u.ZP)({url:"/movie/".concat(e,"/reviews?api_key=").concat(o,"&page=").concat(t)});case 3:return r=n.sent,n.abrupt("return",r.data);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.ZP)({url:"/genre/movie/list?api_key=".concat(o)});case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(n){return"https://image.tmdb.org/t/p/original".concat(n)}}}]);
//# sourceMappingURL=634.91c8e892.chunk.js.map