{"version":3,"file":"static/js/260.a9de3af1.chunk.js","mappings":"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","sources":["components/Box/Box.js","pages/MovieDetailsPage/MovieDetailsPage.styled.js","pages/MovieDetailsPage/MovieDetailsPage.jsx","services/moviesApi.js"],"sourcesContent":["import styled from 'styled-components';\nimport {\n  color,\n  space,\n  layout,\n  flexbox,\n  background,\n  border,\n  position,\n} from 'styled-system';\n\nconst Box = styled('div')(\n  color,\n  space,\n  layout,\n  flexbox,\n  background,\n  border,\n  position\n);\n\nexport default Box;\n","import { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { TiArrowBack } from 'react-icons/ti';\n\nexport const MovieContainer = styled.section`\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  padding: 64px;\n  background-color: ${p => p.theme.colors.background};\n`;\n\nexport const IconBack = styled(TiArrowBack)``;\n\nexport const GoBackLink = styled(NavLink)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  width: 160px;\n  padding: 8px 24px 8px 12px;\n  border-radius: 24px;\n  color: ${p => p.theme.colors.text};\n  background-color: ${p => p.theme.colors.secondary};\n\n  :hover {\n    font-weight: ${p => p.theme.fontWeights.medium};\n    color: ${p => p.theme.colors.accent};\n  }\n`;\n\nexport const MovieInfo = styled.div`\n  display: flex;\n  margin-top: 32px;\n`;\n","import { useState, useEffect, Suspense } from 'react';\nimport { NavLink, Outlet, useParams, useLocation } from 'react-router-dom';\n\nimport Box from 'components/Box';\n\nimport {\n  MovieContainer,\n  GoBackLink,\n  IconBack,\n  MovieInfo,\n} from './MovieDetailsPage.styled';\n\nimport { getMovieById, getImg } from 'services/moviesApi';\n\nconst MovieDetailsPage = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const location = useLocation();\n\n  useEffect(() => {\n    try {\n      getMovieById(movieId).then(setMovie);\n    } catch (error) {\n      console.log(error);\n    }\n  }, [movieId]);\n\n  if (!movie) {\n    return null;\n  }\n\n  console.log(movie);\n\n  const {\n    title,\n    tagline,\n    genres,\n    poster_path,\n    release_date,\n    overview,\n    vote_average,\n    runtime,\n  } = movie;\n\n  const backLinkHref = location.state?.from ?? '/';\n  const MovieGenres = genres.map(({ name }) => name).join(', ');\n  const MovieScore = Math.round((vote_average / 10) * 100);\n\n  return (\n    <MovieContainer>\n      <Box>\n        <GoBackLink to={backLinkHref}>\n          <IconBack size=\"24px\" /> Go back\n        </GoBackLink>\n        <MovieInfo>\n          <Box width=\"320px\">\n            <img src={getImg(poster_path)} alt={title} />\n          </Box>\n\n          <Box width=\"900px\">\n            <h2>\n              {title} ({release_date})\n            </h2>\n            <p>{MovieGenres}</p>\n            <p>{runtime} min</p>\n            <p>User score: {MovieScore}%</p>\n            <h4>{tagline}</h4>\n            <h3>Overview</h3>\n            <p>{overview}</p>\n            <div>\n              <NavLink to=\"cast\">Cast</NavLink>\n              <NavLink to=\"reviews\">Reviews</NavLink>\n            </div>\n          </Box>\n        </MovieInfo>\n      </Box>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </MovieContainer>\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nconst apiKey = process.env.REACT_APP_API_KEY;\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const getMovies = async (ref, page) => {\n  let movies = null;\n\n  switch (ref) {\n    case 'day':\n    case 'week':\n      movies = await axios({\n        url: `/trending/movie/${ref}?api_key=${apiKey}&page=${page}`,\n      });\n      break;\n\n    case 'popular':\n    case 'top_rated':\n    case 'upcoming':\n      movies = await axios({\n        url: `/movie/${ref}?api_key=${apiKey}&page=${page}`,\n      });\n      break;\n\n    default:\n      movies = await axios({\n        url: `/search/movie?api_key=${apiKey}&query=${ref}&page=${page}`,\n      });\n      break;\n  }\n\n  return movies.data;\n};\n\nexport const getMovieById = async movieId => {\n  const movie = await axios({\n    url: `/movie/${movieId}?api_key=${apiKey}`,\n  });\n\n  return movie.data;\n};\n\nexport const getCast = async movieId => {\n  const castData = await axios({\n    url: `/movie/${movieId}/credits?api_key=${apiKey}`,\n  });\n\n  return castData.data.cast;\n};\n\nexport const getReviews = async (movieId, page = 1) => {\n  const reviews = await axios({\n    url: `/movie/${movieId}/reviews?api_key=${apiKey}&page=${page}`,\n  });\n\n  return reviews.data;\n};\n\nexport const getGenres = async () => {\n  const genres = await axios({\n    url: `/genre/movie/list?api_key=${apiKey}`,\n  });\n\n  return genres.data;\n};\n\nexport const getImg = imgPath =>\n  `https://image.tmdb.org/t/p/original${imgPath}`;\n"],"names":["styled","color","space","layout","flexbox","background","border","position","MovieContainer","p","theme","colors","IconBack","TiArrowBack","GoBackLink","NavLink","text","secondary","fontWeights","medium","accent","MovieInfo","movieId","useParams","useState","movie","setMovie","location","useLocation","useEffect","getMovieById","then","error","console","log","title","tagline","genres","poster_path","release_date","overview","vote_average","runtime","backLinkHref","state","from","MovieGenres","map","name","join","MovieScore","Math","round","Box","to","size","width","src","getImg","alt","Suspense","fallback","apiKey","process","axios","getMovies","ref","page","movies","url","data","getCast","castData","cast","getReviews","reviews","getGenres","imgPath"],"sourceRoot":""}