{"version":3,"file":"static/js/481.acf66eb0.chunk.js","mappings":"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","sources":["components/Box/Box.js","components/MovieCard/MovieCard.styled.js","components/MovieCard/MovieCard.jsx","components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","components/MoviesBox/MoviesBox.jsx","components/SearchBox/SearchBox.jsx","pages/SearchPage/SearchPage.jsx","services/moviesApi.js"],"sourcesContent":["import styled from 'styled-components';\nimport {\n  color,\n  space,\n  layout,\n  flexbox,\n  background,\n  border,\n  position,\n} from 'styled-system';\n\nconst Box = styled('div')(\n  color,\n  space,\n  layout,\n  flexbox,\n  background,\n  border,\n  position\n);\n\nexport default Box;\n","import styled from 'styled-components';\n\nexport const MovieItem = styled.li`\n  width: 240px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\n","import { NavLink, useLocation } from 'react-router-dom';\n\nimport { getImg } from 'services/moviesApi';\n\nimport { MovieItem } from './MovieCard.styled';\n\nconst MovieCard = ({ movie }) => {\n  const location = useLocation();\n\n  const { id, title, release_date, poster_path } = movie;\n\n  return (\n    <MovieItem>\n      <NavLink to={`../movies/${id}`} state={{ from: location }}>\n        <img src={getImg(poster_path)} alt={title} />\n        <h4>{title}</h4>\n        <p>{release_date}</p>\n      </NavLink>\n    </MovieItem>\n  );\n};\n\nexport default MovieCard;\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  gap: 16px;\n`;\n","import MovieCard from 'components/MovieCard';\n\nimport { List } from './MoviesList.styled';\n\nconst MoviesList = ({ movies }) => {\n  return (\n    <List>\n      {movies.map(movie => (\n        <MovieCard key={movie.id} movie={movie} />\n      ))}\n    </List>\n  );\n};\n\nexport default MoviesList;\n","import MoviesList from 'components/MoviesList';\nimport Box from 'components/Box';\n// import { MoviesContainer } from './MoviesBox.styled';\n\nconst MoviesBox = ({ movies, hideBtn, loadMore, children }) => {\n  return (\n    <Box width=\"1280px\" as=\"section\">\n      {children}\n\n      <MoviesList movies={movies} />\n\n      {movies.length > 0 && hideBtn > 0 && (\n        <button type=\"button\" onClick={() => loadMore()}>\n          Load more\n        </button>\n      )}\n    </Box>\n  );\n};\n\nexport default MoviesBox;\n","import { useState } from 'react';\n\nconst SearchBox = ({ onSubmit }) => {\n  const [value, setValue] = useState('');\n\n  const handleChange = e => setValue(e.target.value);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    onSubmit(value);\n\n    const form = e.target;\n    form.reset();\n    setValue('');\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input onChange={handleChange} name=\"search\" required />\n        <button type=\"submit\">Search</button>\n      </form>\n    </>\n  );\n};\n\nexport default SearchBox;\n\n// export const SearchBoxMain = () => {\n//   return (\n//     <form>\n//       <input />\n//       <button type=\"submit\">Search</button>\n//     </form>\n//   );\n// };\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport MoviesBox from 'components/MoviesBox';\nimport SearchBox from 'components/SearchBox';\n\nimport { getMovies } from 'services/moviesApi';\n\nconst SearchPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [request, setRequest] = useState('');\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    const searchMovies = async () => {\n      try {\n        const { results, total_pages } = await getMovies(request, page);\n        setMovies(prevMovies => [...prevMovies, ...results]);\n        setTotalPages(total_pages);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    const serchRequets = searchParams.get('request');\n    console.log(serchRequets);\n\n    if (serchRequets) {\n      setRequest(serchRequets);\n    }\n\n    if (!request) {\n      return;\n    }\n\n    searchMovies();\n  }, [page, request, searchParams]);\n\n  const onSearchMovie = request => {\n    setMovies([]);\n    setPage(1);\n    setRequest(request);\n    setSearchParams({ request });\n  };\n\n  const onLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  let onLastPage = totalPages - page;\n\n  return (\n    <MoviesBox movies={movies} hideBtn={onLastPage} loadMore={onLoadMore}>\n      <SearchBox onSubmit={onSearchMovie} />\n    </MoviesBox>\n  );\n};\n\nexport default SearchPage;\n","import axios from 'axios';\n\nconst apiKey = 'f6621a4453f011cfb432a7f58c4cc70b';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const getMovies = async (ref, page) => {\n  let movies = null;\n\n  switch (ref) {\n    case 'day':\n    case 'week':\n      movies = await axios({\n        url: `/trending/movie/${ref}?api_key=${apiKey}&page=${page}`,\n      });\n      break;\n\n    case 'popular':\n    case 'top_rated':\n    case 'upcoming':\n      movies = await axios({\n        url: `/movie/${ref}?api_key=${apiKey}&page=${page}`,\n      });\n      break;\n\n    default:\n      movies = await axios({\n        url: `/search/movie?api_key=${apiKey}&query=${ref}&page=${page}`,\n      });\n      break;\n  }\n\n  return movies.data;\n};\n\nexport const getMovieById = async movieId => {\n  const movie = await axios({\n    url: `/movie/${movieId}?api_key=${apiKey}`,\n  });\n\n  return movie.data;\n};\n\nexport const getCast = async movieId => {\n  const castData = await axios({\n    url: `/movie/${movieId}/credits?api_key=${apiKey}`,\n  });\n\n  return castData.data.cast;\n};\n\nexport const getReviews = async (movieId, page = 1) => {\n  const reviews = await axios({\n    url: `/movie/${movieId}/reviews?api_key=${apiKey}&page=${page}`,\n  });\n\n  return reviews.data;\n};\n\nexport const getGenres = async () => {\n  const genres = await axios({\n    url: `/genre/movie/list?api_key=${apiKey}`,\n  });\n\n  return genres;\n};\n\nexport const getImg = imgPath =>\n  `https://image.tmdb.org/t/p/original${imgPath}`;\n"],"names":["styled","color","space","layout","flexbox","background","border","position","MovieItem","movie","location","useLocation","id","title","release_date","poster_path","to","state","from","src","getImg","alt","List","movies","map","hideBtn","loadMore","children","Box","width","as","length","type","onClick","onSubmit","useState","value","setValue","e","preventDefault","target","reset","onChange","name","required","setMovies","request","setRequest","page","setPage","totalPages","setTotalPages","useSearchParams","searchParams","setSearchParams","useEffect","searchMovies","getMovies","results","total_pages","prevMovies","console","log","serchRequets","get","onLastPage","MoviesBox","prevPage","apiKey","axios","ref","url","data","getMovieById","movieId","getCast","castData","cast","getReviews","reviews","imgPath"],"sourceRoot":""}