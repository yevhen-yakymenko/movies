{"version":3,"file":"static/js/65.beef78e1.chunk.js","mappings":"2JAqBA,GAVYA,EAAAA,EAAAA,IAAO,MAAPA,CACVC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,G,iLCfWC,EAAYR,EAAAA,GAAAA,GAAH,+KAMX,SAAAS,GAAC,OAAIA,EAAEC,MAAMC,OAAOC,IAAnB,IAGC,SAAAH,GAAC,OAAIA,EAAEC,MAAMC,OAAOE,MAAnB,IAIDC,GAAad,EAAAA,EAAAA,IAAOe,EAAAA,GAAPf,CAAH,2CAIVgB,EAAYhB,EAAAA,GAAAA,GAAH,qFACP,SAAAS,GAAC,OAAIA,EAAEC,MAAMO,UAAU,EAAtB,IACC,SAAAR,GAAC,OAAIA,EAAEC,MAAMQ,MAAMC,OAAlB,IAILC,EAAWpB,EAAAA,GAAAA,EAAH,uFACN,SAAAS,GAAC,OAAIA,EAAEC,MAAMO,UAAU,EAAtB,I,SCAhB,EArBkB,SAAC,GAAuB,IAArBI,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OACpBC,GAAWC,EAAAA,EAAAA,MAETC,EAAoDJ,EAApDI,GAAIC,EAAgDL,EAAhDK,MAAOC,EAAyCN,EAAzCM,aAAcC,EAA2BP,EAA3BO,YAAaC,EAAcR,EAAdQ,UAExCC,EAAcR,EACjBS,QAAO,gBAAGN,EAAH,EAAGA,GAAH,OAAYI,EAAUG,SAASP,EAA/B,IACPQ,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAEZ,OACE,SAAC3B,EAAD,WACE,UAACM,EAAD,CAAYsB,GAAE,oBAAeX,GAAMY,MAAO,CAAEC,KAAMf,GAAlD,WACE,gBAAKgB,KAAKC,EAAAA,EAAAA,IAAOZ,GAAca,IAAKf,KACpC,SAACV,EAAD,UAAYU,KACZ,SAACN,EAAD,UAAWU,EAAYY,KAAK,SAC5B,SAACtB,EAAD,UAAWO,QAIlB,ECvBYgB,EAAO3C,EAAAA,GAAAA,GAAH,oGCmBjB,EAjBmB,SAAC,GAA4C,IAA1C4C,EAAyC,EAAzCA,OAAQtB,EAAiC,EAAjCA,OAAQuB,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC9C,OACE,UAACH,EAAD,WACGC,EAAOX,KAAI,SAAAZ,GAAK,OACf,SAAC,EAAD,CAA0BA,MAAOA,EAAOC,OAAQA,GAAhCD,EAAMI,GADP,KAGjB,wBACGmB,EAAOG,OAAS,GAAKF,EAAW,IAC/B,mBAAQG,KAAK,SAASC,QAAS,kBAAMH,GAAN,EAA/B,2BAOT,ECjBYI,EAAkBlD,EAAAA,GAAAA,IAAH,6JAIN,SAAAS,GAAC,OAAIA,EAAEC,MAAMC,OAAON,UAAnB,ICwDvB,EAtDkB,SAAC,GAA4B,IAA1B8C,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC7B,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOT,EAAP,KAAeU,EAAf,KACA,GAAsBD,EAAAA,EAAAA,UAAS,IAA/B,eAAOE,EAAP,KAAYC,EAAZ,KACA,GAAwBH,EAAAA,EAAAA,UAAS,GAAjC,eAAOI,EAAP,KAAaC,EAAb,KACA,GAAoCL,EAAAA,EAAAA,UAAS,MAA7C,eAAOM,EAAP,KAAmBC,EAAnB,KACA,GAA4BP,EAAAA,EAAAA,UAAS,IAArC,eAAO/B,EAAP,KAAeuC,EAAf,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,sHAEsBC,EAAAA,EAAAA,IAAUT,EAAKE,GAFrC,uBAETQ,EAFS,EAETA,QAASC,EAFA,EAEAA,YACjBZ,GAAU,SAAAa,GAAU,wBAAQA,IAAR,OAAuBF,GAAvB,IACpBL,EAAcM,GAJG,WAKQE,EAAAA,EAAAA,MALR,iBAKT9C,EALS,EAKTA,OACRuC,EAAUvC,GANO,kDAQjB+C,QAAQC,IAAR,MARiB,0DAAH,qDAYlB,GAAKnB,EAIL,OAAII,IAAQJ,GACVG,EAAU,IACVE,EAAOL,QACPO,EAAQ,SAIVK,GACD,GAAE,CAACZ,EAAUM,EAAMF,IAEpB,IAIIgB,EAAaZ,EAAaF,EAE9B,OACE,UAACP,EAAD,WACGE,GAED,SAAC,EAAD,CACER,OAAQA,EACRtB,OAAQA,EACRuB,SAAU0B,EACVzB,SAda,WACjBY,GAAQ,SAAAc,GAAQ,OAAIA,EAAW,CAAf,GACjB,MAgBF,C,iKCvDYC,GAFczE,EAAAA,GAAAA,IAAH,sBAEEA,EAAAA,GAAAA,KAAH,qIAQV0E,EAAc1E,EAAAA,GAAAA,MAAH,wPAEP,SAAAS,GAAC,OAAIA,EAAEC,MAAMiE,YAAYC,MAAxB,IACD,SAAAnE,GAAC,OAAIA,EAAEC,MAAMmE,YAAYC,IAAxB,IACP,SAAArE,GAAC,OAAIA,EAAEC,MAAMC,OAAOoE,KAAnB,IACU,SAAAtE,GAAC,OAAIA,EAAEC,MAAMC,OAAOC,IAAnB,IAQVoE,EAAehF,EAAAA,GAAAA,OAAH,iMAGH,SAAAS,GAAC,OAAIA,EAAEC,MAAMC,OAAOsE,SAAnB,IAOVC,GAAalF,EAAAA,EAAAA,IAAOmF,EAAAA,IAAPnF,CAAH,uCACZ,SAAAS,GAAC,OAAIA,EAAEC,MAAMC,OAAOC,IAAnB,I,SCEZ,EA9BkB,SAAC,GAAkB,IAAhBwE,EAAe,EAAfA,SACnB,GAA0B/B,EAAAA,EAAAA,UAAS,IAAnC,eAAOgC,EAAP,KAAcC,EAAd,KAcA,OACE,UAACb,EAAD,CAAYW,SAXO,SAAAG,GACnBA,EAAEC,iBAEFJ,EAASC,GAEIE,EAAEE,OACVC,QACLJ,EAAS,GACV,EAGC,WACE,SAACZ,EAAD,CACE1B,KAAK,OACLb,KAAK,SACLwD,YAAY,mBACZC,WAAS,EACTC,UAAQ,EACRC,SApBe,SAAAP,GAAC,OAAID,EAASC,EAAEE,OAAOJ,MAAtB,KAsBlB,SAACL,EAAD,CAAchC,KAAK,SAAnB,UAA6B,SAACkC,EAAD,CAAYa,KAAK,aAGnD,ECnCYC,EAAgBhG,EAAAA,GAAAA,IAAH,yFAGJ,SAAAS,GAAC,OAAIA,EAAEC,MAAMC,OAAOoE,KAAnB,ICsBvB,EAnBmB,WACjB,OAAwCkB,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAMMC,EAAeF,EAAaG,IAAI,WAEtC,OACE,UAACC,EAAA,EAAD,CAAKC,GAAG,OAAOC,QAAQ,OAAOC,OAAO,QAAQC,GAAG,OAAhD,WACE,SAACV,EAAD,KACA,SAACW,EAAA,EAAD,CAAWxD,SAAUiD,EAArB,UACE,SAAC,EAAD,CAAWhB,SAVK,SAAAwB,GACpBT,EAAgB,CAAES,QAAAA,GACnB,QAYF,C,2NCvBKC,EAAS,mCAEfC,EAAAA,GAAAA,SAAAA,QAAyB,+BAElB,IAAM9C,EAAS,mCAAG,WAAOT,EAAKE,GAAZ,uEACnBb,EAAS,KADU,KAGfW,EAHe,OAIhB,QAJgB,MAKhB,SALgB,OAWhB,YAXgB,MAYhB,cAZgB,MAahB,aAbgB,wCAMJuD,EAAAA,EAAAA,IAAM,CACnBC,IAAI,mBAAD,OAAqBxD,EAArB,oBAAoCsD,EAApC,iBAAmDpD,KAPrC,8BAoBnBb,EApBmB,qDAcJkE,EAAAA,EAAAA,IAAM,CACnBC,IAAI,UAAD,OAAYxD,EAAZ,oBAA2BsD,EAA3B,iBAA0CpD,KAf5B,0BAoBJqD,EAAAA,EAAAA,IAAM,CACnBC,IAAI,yBAAD,OAA2BF,EAA3B,kBAA2CtD,EAA3C,iBAAuDE,KArBzC,iCA0BhBb,EAAOoE,MA1BS,4CAAH,wDA6BTC,EAAY,mCAAG,WAAMC,GAAN,wFACNJ,EAAAA,EAAAA,IAAM,CACxBC,IAAI,UAAD,OAAYG,EAAZ,oBAA+BL,KAFV,cACpBxF,EADoB,yBAKnBA,EAAM2F,MALa,2CAAH,sDAQZG,EAAO,mCAAG,WAAMD,GAAN,wFACEJ,EAAAA,EAAAA,IAAM,CAC3BC,IAAI,UAAD,OAAYG,EAAZ,4BAAuCL,KAFvB,cACfO,EADe,yBAKdA,EAASJ,KAAKK,MALA,2CAAH,sDAQPC,EAAU,mCAAG,WAAOJ,GAAP,4FAAgBzD,EAAhB,+BAAuB,EAAvB,UACFqD,EAAAA,EAAAA,IAAM,CAC1BC,IAAI,UAAD,OAAYG,EAAZ,4BAAuCL,EAAvC,iBAAsDpD,KAFnC,cAClB8D,EADkB,yBAKjBA,EAAQP,MALS,2CAAH,sDAQV5C,EAAS,mCAAG,qGACF0C,EAAAA,EAAAA,IAAM,CACzBC,IAAI,6BAAD,OAA+BF,KAFb,cACjBvF,EADiB,yBAKhBA,EAAO0F,MALS,2CAAH,qDAQTxE,EAAS,SAAAgF,GAAO,mDACWA,EADX,C","sources":["components/Box/Box.js","components/MovieCard/MovieCard.styled.js","components/MovieCard/MovieCard.jsx","components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","components/MoviesBox/MoviesBox.styled.js","components/MoviesBox/MoviesBox.jsx","components/SearchBox/SearchBox.styled.js","components/SearchBox/SearchBox.jsx","pages/SearchPage/SearchPage.styled.js","pages/SearchPage/SearchPage.jsx","services/moviesApi.js"],"sourcesContent":["import styled from 'styled-components';\nimport {\n  color,\n  space,\n  layout,\n  flexbox,\n  background,\n  border,\n  position,\n} from 'styled-system';\n\nconst Box = styled('div')(\n  color,\n  space,\n  layout,\n  flexbox,\n  background,\n  border,\n  position\n);\n\nexport default Box;\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const MovieItem = styled.li`\n  flex-basis: calc((100% - 64px) / 5);\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n\n  color: ${p => p.theme.colors.text};\n\n  :hover {\n    color: ${p => p.theme.colors.accent};\n  }\n`;\n\nexport const StyledLink = styled(NavLink)`\n  color: inherit;\n`;\n\nexport const CardTitle = styled.h4`\n  font-size: ${p => p.theme.fontSizes[4]}px;\n  font-family: ${p => p.theme.fonts.heading};\n  padding: 6px 0;\n`;\n\nexport const CardText = styled.p`\n  font-size: ${p => p.theme.fontSizes[2]}px;\n  font-style: italic;\n  padding: 2px 0;\n`;\n","import { useLocation } from 'react-router-dom';\n\nimport { getImg } from 'services/moviesApi';\n\nimport { MovieItem, StyledLink, CardTitle, CardText } from './MovieCard.styled';\n\nconst MovieCard = ({ movie, genres }) => {\n  const location = useLocation();\n\n  const { id, title, release_date, poster_path, genre_ids } = movie;\n\n  const movieGenres = genres\n    .filter(({ id }) => genre_ids.includes(id))\n    .map(genre => genre.name);\n\n  return (\n    <MovieItem>\n      <StyledLink to={`../movies/${id}`} state={{ from: location }}>\n        <img src={getImg(poster_path)} alt={title} />\n        <CardTitle>{title}</CardTitle>\n        <CardText>{movieGenres.join(', ')}</CardText>\n        <CardText>{release_date}</CardText>\n      </StyledLink>\n    </MovieItem>\n  );\n};\n\nexport default MovieCard;\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  margin: 40px auto 0;\n  gap: 16px;\n`;\n","import MovieCard from 'components/MovieCard';\n\nimport { List } from './MoviesList.styled';\n\nconst MoviesList = ({ movies, genres, lastPage, loadMore }) => {\n  return (\n    <List>\n      {movies.map(movie => (\n        <MovieCard key={movie.id} movie={movie} genres={genres} />\n      ))}\n      <li>\n        {movies.length > 0 && lastPage > 0 && (\n          <button type=\"button\" onClick={() => loadMore()}>\n            Load more\n          </button>\n        )}\n      </li>\n    </List>\n  );\n};\n\nexport default MoviesList;\n","import styled from 'styled-components';\n\nexport const MoviesContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  background-color: ${p => p.theme.colors.background};\n  padding: 40px 24px;\n  overflow-y: scroll;\n`;\n","import { useState, useEffect } from 'react';\n\nimport MoviesList from 'components/MoviesList';\n// import Box from 'components/Box';\nimport { MoviesContainer } from './MoviesBox.styled';\n\nimport { getMovies, getGenres } from 'services/moviesApi';\n\nconst MoviesBox = ({ movieRef, children }) => {\n  const [movies, setMovies] = useState([]);\n  const [ref, setRef] = useState('');\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(null);\n  const [genres, setGenres] = useState([]);\n\n  useEffect(() => {\n    const searchMovies = async () => {\n      try {\n        const { results, total_pages } = await getMovies(ref, page);\n        setMovies(prevMovies => [...prevMovies, ...results]);\n        setTotalPages(total_pages);\n        const { genres } = await getGenres();\n        setGenres(genres);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    if (!movieRef) {\n      return;\n    }\n\n    if (ref !== movieRef) {\n      setMovies([]);\n      setRef(movieRef);\n      setPage(1);\n      return;\n    }\n\n    searchMovies();\n  }, [movieRef, page, ref]);\n\n  const onLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  let onLastPage = totalPages - page;\n\n  return (\n    <MoviesContainer>\n      {children}\n\n      <MoviesList\n        movies={movies}\n        genres={genres}\n        lastPage={onLastPage}\n        loadMore={onLoadMore}\n      />\n    </MoviesContainer>\n  );\n};\n\nexport default MoviesBox;\n","import styled from 'styled-components';\nimport { BiSearch } from 'react-icons/bi';\n\nexport const FormWrapper = styled.div``;\n\nexport const SearchForm = styled.form`\n  width: 75%;\n  align-self: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const SearchInput = styled.input`\n  width: 50%;\n  font-weight: ${p => p.theme.fontWeights.medium};\n  line-height: ${p => p.theme.lineHeights.body};\n  color: ${p => p.theme.colors.muted};\n  background-color: ${p => p.theme.colors.text};\n  border: none;\n  border-top-left-radius: 20px;\n  border-bottom-left-radius: 20px;\n  outline: none;\n  padding: 8px 16px;\n`;\n\nexport const SeacrhButton = styled.button`\n  display: flex;\n  padding: 8px;\n  background-color: ${p => p.theme.colors.secondary};\n  border: none;\n  border-top-right-radius: 20px;\n  border-bottom-right-radius: 20px;\n  cursor: pointer;\n`;\n\nexport const SearchIcon = styled(BiSearch)`\n  color: ${p => p.theme.colors.text};\n`;\n","import { useState } from 'react';\n\nimport {\n  SearchForm,\n  SearchInput,\n  SeacrhButton,\n  SearchIcon,\n} from './SearchBox.styled';\n\nconst SearchBox = ({ onSubmit }) => {\n  const [value, setValue] = useState('');\n\n  const handleChange = e => setValue(e.target.value);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    onSubmit(value);\n\n    const form = e.target;\n    form.reset();\n    setValue('');\n  };\n\n  return (\n    <SearchForm onSubmit={handleSubmit}>\n      <SearchInput\n        type=\"text\"\n        name=\"search\"\n        placeholder=\"Find a movies...\"\n        autofocus\n        required\n        onChange={handleChange}\n      />\n      <SeacrhButton type=\"submit\">{<SearchIcon size=\"24px\" />}</SeacrhButton>\n    </SearchForm>\n  );\n};\n\nexport default SearchBox;\n","import styled from 'styled-components';\n\nexport const NavigationBox = styled.div`\n  min-width: 240px;\n  height: 100vh;\n  background-color: ${p => p.theme.colors.muted};\n`;\n","import { useSearchParams } from 'react-router-dom';\n\nimport Box from 'components/Box';\nimport MoviesBox from 'components/MoviesBox';\nimport SearchBox from 'components/SearchBox';\n\nimport { NavigationBox } from './SearchPage.styled';\n\nconst SearchPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const onSearchMovie = request => {\n    setSearchParams({ request });\n  };\n\n  const serchRequets = searchParams.get('request');\n\n  return (\n    <Box as=\"main\" display=\"flex\" height=\"100vh\" pt=\"64px\">\n      <NavigationBox />\n      <MoviesBox movieRef={serchRequets}>\n        <SearchBox onSubmit={onSearchMovie} />\n      </MoviesBox>\n    </Box>\n  );\n};\n\nexport default SearchPage;\n","import axios from 'axios';\n\nconst apiKey = 'f6621a4453f011cfb432a7f58c4cc70b';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const getMovies = async (ref, page) => {\n  let movies = null;\n\n  switch (ref) {\n    case 'day':\n    case 'week':\n      movies = await axios({\n        url: `/trending/movie/${ref}?api_key=${apiKey}&page=${page}`,\n      });\n      break;\n\n    case 'popular':\n    case 'top_rated':\n    case 'upcoming':\n      movies = await axios({\n        url: `/movie/${ref}?api_key=${apiKey}&page=${page}`,\n      });\n      break;\n\n    default:\n      movies = await axios({\n        url: `/search/movie?api_key=${apiKey}&query=${ref}&page=${page}`,\n      });\n      break;\n  }\n\n  return movies.data;\n};\n\nexport const getMovieById = async movieId => {\n  const movie = await axios({\n    url: `/movie/${movieId}?api_key=${apiKey}`,\n  });\n\n  return movie.data;\n};\n\nexport const getCast = async movieId => {\n  const castData = await axios({\n    url: `/movie/${movieId}/credits?api_key=${apiKey}`,\n  });\n\n  return castData.data.cast;\n};\n\nexport const getReviews = async (movieId, page = 1) => {\n  const reviews = await axios({\n    url: `/movie/${movieId}/reviews?api_key=${apiKey}&page=${page}`,\n  });\n\n  return reviews.data;\n};\n\nexport const getGenres = async () => {\n  const genres = await axios({\n    url: `/genre/movie/list?api_key=${apiKey}`,\n  });\n\n  return genres.data;\n};\n\nexport const getImg = imgPath =>\n  `https://image.tmdb.org/t/p/original${imgPath}`;\n"],"names":["styled","color","space","layout","flexbox","background","border","position","MovieItem","p","theme","colors","text","accent","StyledLink","NavLink","CardTitle","fontSizes","fonts","heading","CardText","movie","genres","location","useLocation","id","title","release_date","poster_path","genre_ids","movieGenres","filter","includes","map","genre","name","to","state","from","src","getImg","alt","join","List","movies","lastPage","loadMore","length","type","onClick","MoviesContainer","movieRef","children","useState","setMovies","ref","setRef","page","setPage","totalPages","setTotalPages","setGenres","useEffect","searchMovies","getMovies","results","total_pages","prevMovies","getGenres","console","log","onLastPage","prevPage","SearchForm","SearchInput","fontWeights","medium","lineHeights","body","muted","SeacrhButton","secondary","SearchIcon","BiSearch","onSubmit","value","setValue","e","preventDefault","target","reset","placeholder","autofocus","required","onChange","size","NavigationBox","useSearchParams","searchParams","setSearchParams","serchRequets","get","Box","as","display","height","pt","MoviesBox","request","apiKey","axios","url","data","getMovieById","movieId","getCast","castData","cast","getReviews","reviews","imgPath"],"sourceRoot":""}